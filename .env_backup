AI_PROVIDER=openai
AI_MODEL=gpt-4o-mini-2024-07-18

# Modèle hybride intelligent (sélection automatique selon complexité)
# - GPT-4o-mini : Conversations simples, résumés, formatage
# - GPT-4o : Actions CRM complexes (create, update, enrich) pour éviter hallucinations
AI_MODEL_SIMPLE=gpt-4o-mini-2024-07-18
AI_MODEL_COMPLEX=gpt-4o
ANTHROPIC_API_KEY=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
ANTHROPIC_MODEL=claude-3-haiku-20240307

# OpenAI (GPT-4o-mini - ACTIF - Économique avec prompts optimisés)
OPENAI_API_KEY=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
OPENAI_MODEL=gpt-4o-mini-2024-07-18

# Coûts USD par million de tokens (GPT-4o-mini pricing)
COST_INPUT_PER_MILLION=0.15
COST_OUTPUT_PER_MILLION=0.60

# Hard cap tokens (budget: 20 millions)
TOKENS_BUDGET_TOTAL=20000000

# BETA: Fenêtre glissante d'historique (économie tokens)
# Durée max de conservation des messages (heures)
MAX_HISTORY_DURATION_HOURS=72
# Nombre max de messages conservés dans l'historique
MAX_HISTORY_MESSAGES=100

# Système de recharge sécurisé
ADMIN_RECHARGE_PASSWORD=M4xR3ch4rg3S3cur3!2025
MAX_BUDGET_HARD_CAP=20000000

# Réinitialisation compteur (dev only)
ALLOW_RESET=true

# Super M.A.X. Configuration
MAX_DEFAULT_ROLE=ADMIN
MAX_FORCE_ADMIN=true
FEATURE_COPILOT_MODE=false
MAX_RESPONSE_TOKENS=2000
MAX_STREAM=false
MAX_REQUEST_TIMEOUT_MS=45000
MAX_RETRY_ATTEMPTS=3

# Safe Actions Layer - Couche intelligente pour actions UI
# true (défaut) = fallback IA si échec API, false = désactivé
SAFE_ACTIONS_LAYER=true

ENABLE_SPEECH=true
PORT=3005

TASKS_DIR=D:/Macrea/CRMACREA/ia_admin/tasks_autogen
TASK_REGISTRY_PATH=D:/Macrea/CRMACREA/data/task_registry.json

ESPO_BASE=http://127.0.0.1:8081/espocrm/api/v1
ESPO_BASE_URL=http://127.0.0.1:8081/espocrm/api/v1
ESPO_API_KEY=7b8a983aab7071bb64f18a75cf27ebbc
ESPO_ADMIN_API_KEY=7b8a983aab7071bb64f18a75cf27ebbc
PORT=3005

# Authentification ADMIN pour créer des champs custom et tags
# IMPORTANT: Remplacez par les vrais credentials ADMIN d'EspoCRM
ESPO_USERNAME=admin
ESPO_PASSWORD=un_mot_de_passe_admin_espo_solide

# PHP et EspoCRM paths pour Super M.A.X. (Local Administrator)
PHP_PATH=D:\\Macrea\\xampp\\php\\php.exe
ESPOCRM_DIR=D:\\Macrea\\xampp\\htdocs\\espocrm
LAYOUTS_DIR=D:\\Macrea\\xampp\\htdocs\\espocrm\\custom\\Espo\\Custom\\Resources\\layouts

MODE_DEFAULT=assist
MAX_BASE_URL=http://127.0.0.1:3005
MAX_TASK_STATUS_ENDPOINT=/api/tasks/:id/status
N8N_BASE=http://127.0.0.1:5678
N8N_CALLBACK_SECRET=dev-secret

VITE_API_BASE=http://127.0.0.1:3005

N8N_WEBHOOK_URL=http://127.0.0.1:5678/webhook/wf-relance-j3
N8N_WEBHOOK_RELANCE_J3=http://127.0.0.1:5678/webhook/wf-relance-j3
N8N_WEBHOOK_RELANCE_J3_WHATSAPP=http://127.0.0.1:5678/webhook/wf-relance-j3-whatsapp

ACTIVE_CLIENT=macrea_client

# Twilio WhatsApp Configuration
TWILIO_ACCOUNT_SID=AC78ebc7238576304ae00fbe4df3a07f5e
TWILIO_AUTH_TOKEN=12a0e364fb468ea4b00ab07f7e09f6fe
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886

# Auth JWT (MVP1)
JWT_SECRET=macrea-mvp1-jwt-secret-CHANGE_IN_PRODUCTION_2025

# Supabase Configuration (Phase 2A - Mémoire IA)
SUPABASE_URL=https://jcegkuyagbthpbklyawz.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpjZWdrdXlhZ2J0aHBia2x5YXd6Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NTAzOTI3OSwiZXhwIjoyMDgwNjE1Mjc5fQ.Dw7pk7mc0f0S_GdsBAnNjBwoUsA_LPQC52bJkDYkqXg
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpjZWdrdXlhZ2J0aHBia2x5YXd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMzkyNzksImV4cCI6MjA4MDYxNTI3OX0.3tlQwaa1IsCIXiGYuduz7cMW4xsQCdMy488tfCvRr7o

# Email SMTP Configuration (OVH)
EMAIL_PROVIDER=smtp
SMTP_HOST=ssl0.ovh.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=contact@malalacrea.fr
SMTP_PASSWORD=12Victoire!
SMTP_FROM=contact@malalacrea.fr
